import{a as b,d as A}from"./chunk-4CBBOAMT.js";import{c as x,e as y}from"./chunk-2M2BXB2Y.js";import{a as E}from"./chunk-LXFXMCNU.js";import{Ab as s,Db as u,Ja as g,Q as R,Xa as p,Ya as o,Za as i,_a as h,a as f,ec as k,fb as D,ga as w,ic as M,qb as r,sb as m,va as a}from"./chunk-K4UDKF7F.js";var C=class c{ammo=u.required();config=w(()=>{this.data.datasets[0].data=this.ammo().getDamageArray().map((n,e)=>({x:e,y:n})),this.data=f({},this.data)});data={datasets:[{data:[],tension:.1,borderWidth:5,pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointHoverBackgroundColor:"white",pointHoverRadius:6,pointHoverBorderColor:"transparent",segment:{borderColor:n=>{let e=n.p1.parsed.y;return e<50?"#ECEFF1":e<75?"#CCFF90":e<100?"#64DD17":e<125?"#FFD600":e<150?"#FF6D00":"#DD2C00"}}}]};options={responsive:!0,scales:{x:{type:"linear",min:0,max:100,title:{display:!0,text:"Range"}},y:{min:0,max:150,title:{display:!0,text:"Damage"},ticks:{stepSize:25}}},plugins:{legend:{display:!1},tooltip:{callbacks:{title:n=>{let e=n[0].parsed.x;return`${n[0].parsed.y} dmg | ${e}m`},label:()=>""}}}};onChartClick(n){if(!n.active||n.active.length===0)return;let e=n.active[0].element.parsed.x,t=n.active[0].element.parsed.y}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=g({type:c,selectors:[["hunt-chart-component"]],inputs:{ammo:[1,"ammo"]},decls:2,vars:2,consts:[[1,"chart-container"],["baseChart","","type","line",3,"chartClick","data","options"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"canvas",1),D("chartClick",function(l){return t.onChartClick(l)}),i()()),e&2&&(a(),p("data",t.data)("options",t.options))},dependencies:[A],styles:[".chart-container[_ngcontent-%COMP%]{position:relative;width:100%;box-sizing:border-box;padding:.5rem 1rem 0 0}"]})};var v=class c{weapon=u.required();chestChestRange=s(()=>this.findRange("chest","chest"));cockCockRange=s(()=>this.findRange("cock","cock"));armArmRange=s(()=>this.findRange("arms","arms"));legLegRange=s(()=>this.findRange("legs","legs"));chestCockRange=s(()=>this.findRange("chest","cock"));chestArmRange=s(()=>this.findRange("chest","arms"));chestLegRange=s(()=>this.findRange("chest","legs"));cockArmRange=s(()=>this.findRange("cock","arms"));cockLegRange=s(()=>this.findRange("cock","legs"));armLegRange=s(()=>this.findRange("arms","legs"));findRange(n,e){let t=!1,d=0;for(;d<100&&!t;){let I=this.weapon().activeAmmo.calculateDamage(d)[n],_=this.weapon().activeAmmo.calculateDamage(d)[e];I+_<150?t=!0:d++}let l=d-1;return l<0?"not possible":l===99&&!t?"100m+":`${l}m`}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=g({type:c,selectors:[["hunt-weapon-extended-info-component"]],inputs:{weapon:[1,"weapon"]},decls:31,vars:11,consts:[[1,"right",3,"ammo"]],template:function(e,t){e&1&&(o(0,"h1"),r(1,"Damage Information"),i(),h(2,"hunt-chart-component",0),o(3,"h2"),r(4,"2 tap ranges"),i(),o(5,"table")(6,"tr")(7,"td"),r(8),i(),o(9,"td"),r(10),i(),o(11,"td"),r(12),i(),o(13,"td"),r(14),i()(),h(15,"tr"),o(16,"tr")(17,"td"),r(18),i(),o(19,"td"),r(20),i(),o(21,"td"),r(22),i()(),o(23,"tr")(24,"td"),r(25),i(),o(26,"td"),r(27),i()(),o(28,"tr")(29,"td"),r(30),i()()()),e&2&&(a(2),p("ammo",t.weapon().activeAmmo),a(6),m("Chest + chest: ",t.chestChestRange()),a(2),m("Crotch + crotch: ",t.cockCockRange()),a(2),m("Arm + arm: ",t.armArmRange()),a(2),m("Leg + leg: ",t.legLegRange()),a(4),m("Chest + crotch: ",t.chestCockRange()),a(2),m("Crotch + arm: ",t.cockArmRange()),a(2),m("Arm + leg: ",t.armLegRange()),a(3),m("Chest + arm: ",t.chestArmRange()),a(2),m("Crotch + leg: ",t.cockLegRange()),a(3),m("Chest + leg: ",t.chestLegRange()))},dependencies:[C],encapsulation:2})};var S=class c{activatedRoute=R(x);router=R(y);weapon=k.EMPTY;constructor(){let n=this.activatedRoute.snapshot.paramMap.get("id");if(!n)throw alert("weapon name not set, reload the page"),new Error("weapon name not set");let e=M.get(n);if(!e){alert("weapon name not found"),this.router.navigate([""]);return}this.weapon=Object.assign(f({},e))}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=g({type:c,selectors:[["hunt-weapon-stats-page"]],decls:4,vars:5,consts:[[1,"content-container"],[1,"left",3,"weapon","showCustomAmmo"],[1,"middle",3,"weapon","range"],[3,"weapon"]],template:function(e,t){e&1&&(o(0,"div",0),h(1,"hunt-weapon-info-component",1)(2,"hunt-hunter-body-component",2)(3,"hunt-weapon-extended-info-component",3),i()),e&2&&(a(),p("weapon",t.weapon)("showCustomAmmo",!0),a(),p("weapon",t.weapon)("range",0),a(),p("weapon",t.weapon))},dependencies:[E,b,v],styles:[".content-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(400px,30vw) minmax(400px,25vw) minmax(400px,45vw)}.content-container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{padding:0 1rem}.content-container[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.content-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding:0 1rem}"]})};export{S as WeaponStatsPage};
