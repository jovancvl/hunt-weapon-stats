import{a as E,b as T}from"./chunk-YBY36HUR.js";import{c as k,e as S}from"./chunk-ALBTFBTQ.js";import{a as L}from"./chunk-YVBTYCBT.js";import{Ba as l,Hb as s,Jb as b,Kb as v,Pa as h,W as M,Ya as O,Za as x,a as f,b as y,bb as g,cb as i,db as m,eb as C,lb as u,ma as P,mc as A,nb as R,qc as N,wb as d,yb as D}from"./chunk-URBECQ3Q.js";var _=class r{ammo=v.required();rangeSelected=b();chartOptions={xAxis:{type:"value",min:0,max:100,name:"Range",nameLocation:"start",interval:10,splitLine:{show:!1}},yAxis:{type:"value",min:0,max:150,name:"Damage",nameLocation:"middle",interval:25,splitLine:{show:!1}},tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:t=>{let e=t[0],n=Math.floor(e.value[1]),o=e.value[0];return`Damage: ${n}
Range: ${o}m`}},grid:{left:0,top:0,right:0,bottom:50},visualMap:[{pieces:[{gte:0,lt:50,color:"#ECEFF1"},{gte:50,lt:75,color:"#CCFF90"},{gte:75,lt:100,color:"#64DD17"},{gte:100,lt:125,color:"#FFD600"},{gte:125,lt:150,color:"#FF6D00"},{gte:150,color:"#DD2C00"}],outOfRange:{color:"#999"},show:!1}]};config=P(()=>{let t=this.ammo().getDamageArray();this.chartOptions=y(f({},this.chartOptions),{series:[{name:"Damage",type:"line",smooth:!0,symbol:"emptyCircle",showSymbol:!1,lineStyle:{width:4},data:t.map((e,n)=>[n,e]),markLine:{symbol:"none",z:0,animationDuration:500,animationEasing:"sinusoidalInOut",lineStyle:{color:"#303030",type:"dashed",width:1},label:{show:!1},emphasis:{lineStyle:{color:"#606060",width:2},label:{show:!0,position:"bottom",align:"center",verticalAlign:"top",distance:41,color:"white",borderWidth:0,formatter:e=>e.name}},data:this.calculateCombinations()}}]})});calculateCombinations(){let t=[],e=["chest","cock","arms","legs"];for(let n=0;n<e.length;n++)for(let o=n;o<e.length;o++){let a=e[n],c=e[o],p=this.findRange(a,c);if(p>0&&p<=100){a=a==="cock"?"crotch":a,c=c==="cock"?"crotch":c;let Y=`${p}m

${a} + ${c}`;t.push({xAxis:p,name:Y})}}return t}findRange(t,e){let n=!1,o=0;for(;o<=100&&!n;){let a=this.ammo().calculateDamage(o)[t],c=this.ammo().calculateDamage(o)[e];a+c<150?n=!0:o++}return n&&o--,o}onChartClick(t){if(t.componentType!=="series"&&t.componentType!=="markLine")return;let e=Array.isArray(t.value)?t.value[0]:t.value;this.rangeSelected.emit(e)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["hunt-chart-component"]],inputs:{ammo:[1,"ammo"]},outputs:{rangeSelected:"rangeSelected"},decls:2,vars:1,consts:[[1,"chart-container"],["echarts","",1,"chart",3,"chartClick","options"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1),u("chartClick",function(a){return n.onChartClick(a)}),m()()),e&2&&(l(),g("options",n.chartOptions))},dependencies:[T],styles:[".chart-container[_ngcontent-%COMP%]{position:relative;width:100%;box-sizing:border-box;padding:.5rem 1rem 0 0}.chart[_ngcontent-%COMP%]{height:400px;width:100%}"]})};function z(r,t){if(r&1&&(d(0),C(1,"br")),r&2){let e=R();D(" For example: This weapon will down a hunter with 2 shots up to ",e.chestChestRange()," if both shots hit the chest. ")}}var w=class r{ammo=v.required();rangeSelected=b();chestChestRange=s(()=>this.findRange("chest","chest"));cockCockRange=s(()=>this.findRange("cock","cock"));armArmRange=s(()=>this.findRange("arms","arms"));legLegRange=s(()=>this.findRange("legs","legs"));chestCockRange=s(()=>this.findRange("chest","cock"));chestArmRange=s(()=>this.findRange("chest","arms"));chestLegRange=s(()=>this.findRange("chest","legs"));cockArmRange=s(()=>this.findRange("cock","arms"));cockLegRange=s(()=>this.findRange("cock","legs"));armLegRange=s(()=>this.findRange("arms","legs"));findRange(t,e){let n=!1,o=0;for(;o<100&&!n;){let c=this.ammo().calculateDamage(o)[t],p=this.ammo().calculateDamage(o)[e];c+p<150?n=!0:o++}let a=o-1;return a<0?"not possible":a===99&&!n?"100m+":`${a}m`}onRangeSelected(t){this.rangeSelected.emit(t)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["hunt-weapon-extended-info-component"]],inputs:{ammo:[1,"ammo"]},outputs:{rangeSelected:"rangeSelected"},decls:12,vars:2,consts:[[1,"right",3,"rangeSelected","ammo"]],template:function(e,n){e&1&&(i(0,"h1"),d(1,"Damage Over Range"),m(),i(2,"hunt-chart-component",0),u("rangeSelected",function(a){return n.onRangeSelected(a)}),m(),i(3,"h2"),d(4,"Note"),m(),i(5,"p"),d(6,` These damage numbers should be correct within ~1m of accuracy.
`),m(),i(7,"p"),d(8,` If you want to see the damage done to limbs at different ranges, just click on the line at your desired range.
`),m(),i(9,"p"),d(10," The vertical dashed lines represent the different thresholds for downing a full HP hunter with 2 shots. Hover over the vertical lines to see which bodypart combination the threshold corresponds to. "),O(11,z,2,1),m()),e&2&&(l(2),g("ammo",n.ammo()),l(9),x(n.chestChestRange()!=="not possible"?11:-1))},dependencies:[_],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{padding:0px 1rem}"]})};var F=class r{activatedRoute=M(k);router=M(S);weapon=A.EMPTY;range=0;constructor(){let t=this.activatedRoute.snapshot.paramMap.get("id");if(!t)throw alert("weapon name not set, reload the page"),new Error("weapon name not set");let e=N.get(t);if(!e){alert("weapon name not found"),this.router.navigate([""]);return}this.weapon=Object.assign(f({},e))}onRangeSelected(t){this.range=t}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["hunt-weapon-stats-page"]],decls:4,vars:5,consts:[[1,"content-container"],[1,"left",3,"weapon","canChangeActiveAmmo"],[1,"middle",3,"ammo","range"],[3,"rangeSelected","ammo"]],template:function(e,n){e&1&&(i(0,"div",0),C(1,"hunt-weapon-info-component",1)(2,"hunt-hunter-body-component",2),i(3,"hunt-weapon-extended-info-component",3),u("rangeSelected",function(a){return n.onRangeSelected(a)}),m()()),e&2&&(l(),g("weapon",n.weapon)("canChangeActiveAmmo",!0),l(),g("ammo",n.weapon.activeAmmo)("range",n.range),l(),g("ammo",n.weapon.activeAmmo))},dependencies:[L,E,w],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;font-family:Crimson Text,serif;font-size:large;color:#fff;background-color:#000}body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{scrollbar-width:none}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}h1[_ngcontent-%COMP%]{margin:0}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 300,"GRAD" 0,"opsz" 24}.equipment-card-list-container[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]{display:none}.icon-only-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;box-sizing:border-box;border:none;border-radius:100%;padding:3px;background:none;transition:background-color ease-in-out .2s}.icon-only-button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:xx-large;color:#fff}.icon-only-button[_ngcontent-%COMP%]:hover{background:#1e1e1e}.stat-table[_ngcontent-%COMP%]{font-size:16px;width:100%}.stat-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:50%;padding-right:.25rem}@keyframes _ngcontent-%COMP%_in-from-down{0%{transform:translateY(100vh)}to{transform:translateY(0)}}@keyframes _ngcontent-%COMP%_in-from-up{0%{transform:translateY(-100vh)}to{transform:translateY(0)}}@keyframes _ngcontent-%COMP%_out-to-up{0%{transform:translateY(0)}to{transform:translateY(-100vh)}}@keyframes _ngcontent-%COMP%_out-to-below{0%{transform:translateY(0)}to{transform:translateY(100vh)}}[_ngcontent-%COMP%]::view-transition-old(animate-out-to-above){animation:1s ease-in-out both _ngcontent-%COMP%_out-to-up}[_ngcontent-%COMP%]::view-transition-old(animate-out-to-below){animation:1s ease-in-out both _ngcontent-%COMP%_out-to-below}[_ngcontent-%COMP%]::view-transition-new(animate-in-from-above){animation:1s ease-in-out both _ngcontent-%COMP%_in-from-up}[_ngcontent-%COMP%]::view-transition-new(animate-in-from-below){animation:1s ease-in-out both _ngcontent-%COMP%_in-from-down}.animate-out-to-above[_ngcontent-%COMP%]{view-transition-name:animate-out-to-above}.animate-out-to-below[_ngcontent-%COMP%]{view-transition-name:animate-out-to-below}.animate-in-from-above[_ngcontent-%COMP%]{view-transition-name:animate-out-from-above}.animate-in-from-below[_ngcontent-%COMP%]{view-transition-name:animate-in-from-below}.content-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(400px,30vw) minmax(400px,25vw) minmax(400px,45vw);box-sizing:border-box;min-height:calc(100vh - 3rem);padding-bottom:2rem}.content-container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{padding:0 1rem}.content-container[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.content-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding:0 1rem}']})};export{F as WeaponStatsPage};
